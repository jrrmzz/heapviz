<html>
<head>
<!-- requirements for pytutor.js -->
<script type="text/javascript" src="OnlinePythonTutor/v3/js/d3.v2.min.js"></script>
<script type="text/javascript" src="OnlinePythonTutor/v3/js/jquery-1.8.2.min.js"></script>
<script type="text/javascript" src="OnlinePythonTutor/v3/js/jquery.ba-bbq.min.js"></script> <!-- for handling back button and URL hashes -->
<script type="text/javascript" src="OnlinePythonTutor/v3/js/jquery.jsPlumb-1.3.10-all-min.js "></script> <!-- for rendering SVG connectors
                                                                                         DO NOT UPGRADE ABOVE 1.3.10 OR ELSE BREAKAGE WILL OCCUR -->
<script type="text/javascript" src="OnlinePythonTutor/v3/js/jquery-ui-1.8.24.custom.min.js"></script> <!-- for sliders and other UI elements -->
<link type="text/css" href="OnlinePythonTutor/v3/css/ui-lightness/jquery-ui-1.8.24.custom.css" rel="stylesheet" />

<!-- for annotation bubbles -->
<script type="text/javascript" src="OnlinePythonTutor/v3/js/jquery.qtip.min.js"></script>
<link type="text/css" href="OnlinePythonTutor/v3/css/jquery.qtip.css" rel="stylesheet" />

<script type="text/javascript" src="OnlinePythonTutor/v3/js/pytutor.js"></script>
<link rel="stylesheet" href="OnlinePythonTutor/v3/css/pytutor.css"/>


<!-- requirements for opt-frontend.js -->

<!-- codemirror.net online code editor -->
<script type="text/javascript" src="OnlinePythonTutor/v3/js/codemirror/codemirror.js"></script>
<link type="text/css" href="OnlinePythonTutor/v3/css/codemirror.css" rel="stylesheet" />
<script type="text/javascript" src="OnlinePythonTutor/v3/js/codemirror/python.js"></script>

<script type="text/javascript" src="OnlinePythonTutor/v3/js/opt-frontend.js"></script>
<link rel="stylesheet" href="OnlinePythonTutor/v3/css/opt-frontend.css"/>

<style>
table.visualizer td.vizLayoutTd:nth-child(1) {
    position: absolute;
}
</style>

</head>
<body>
<div id="pyOutputPane">
</div>

<script type="text/javascript">
var dataFromBackend = ${JSON_TRACE}
var startingInstruction = ${STARTING_INSTRUCTION}

if (startingInstruction == -1) {
    startingInstruction = dataFromBackend["trace"].length - 1;
}

var visualizer = new ExecutionVisualizer('pyOutputPane',
    dataFromBackend,
    {
        startingInstruction:  startingInstruction,
        updateOutputCallback: function() {
            $('#urlOutput,#embedCodeOutput').val('');
        },
        //allowEditAnnotations: true,
    });
    
$('table.visualizer td.vizLayoutTd').first().css('display', 'none');
</script>
</body>
</html>